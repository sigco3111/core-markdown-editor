
# 코어 마크다운 편집기 (Core Markdown Editor)

**코어 마크다운 편집기**는 실시간 미리보기 기능을 갖춘 강력하고 직관적인 웹 기반 마크다운 편집기입니다. 사용자는 한쪽 창에서 마크다운을 작성하고 다른 쪽 창에서 즉시 렌더링된 HTML 결과를 확인할 수 있습니다. 데스크톱과 모바일 환경 모두에 최적화된 반응형 디자인을 제공하며, Gemini AI를 활용한 다양한 콘텐츠 보조 기능을 통해 생산성을 극대화합니다.

## ✨ 주요 기능

*   **📝 실시간 마크다운 편집 및 미리보기**: WYSIWYG과 유사한 경험을 제공하며, 입력과 동시에 결과 확인 가능.
*   **📱 반응형 디자인**:
    *   데스크톱: 편집기와 미리보기를 나란히 배치.
    *   모바일: 편집기 상단, 미리보기 하단 배치로 가독성 향상.
*   **🎨 다양한 미리보기 테마**: 'GitHub Light', '학술 논문 스타일' 등 문서 목적에 맞는 테마 선택 가능.
*   **💅 깔끔한 UI 및 스타일**: 콘텐츠에 집중할 수 있는 미니멀하고 현대적인 인터페이스.
*   **💾 파일 작업**:
    *   새 파일, 마크다운 파일(.md) 불러오기.
    *   마크다운(.md), HTML(.html), PDF(.pdf) 형식으로 내보내기.
    *   마크다운 콘텐츠 클립보드 복사.
*   **✍️ 서식 도구 모음**: 굵게, 기울임꼴, 취소선, 링크, 인라인 코드, 코드 블록, 목록, 인용문, 제목(H1-H4) 등 빠른 서식 적용.
*   **📑 목차(ToC) 자동 생성**: 문서 내 제목을 기반으로 목차를 손쉽게 삽입.
*   **📊 통계 표시**: 실시간 단어 수 및 글자 수 표시.
*   **🔄 자동 저장**: 작업 내용이 브라우저 로컬 스토리지에 주기적으로 자동 저장되어 유실 방지.
*   **⚙️ API 키 관리**: 사용자가 직접 Gemini API 키를 입력하고 로컬 스토리지에 저장 및 상태 확인.
*   **💬 사용자 피드백**: 토스트 메시지를 통해 작업 결과 및 오류 알림.
*   **✅ 확인 모달**: 중요한 작업 수행 전 사용자 확인을 통한 안전성 확보.
*   **↔️ 스크롤 동기화**: 분할 보기 모드에서 편집기와 미리보기 창 간 스크롤 위치 동기화.
*   **🤖 Gemini AI 기반 기능**:
    *   **AI 포맷팅**: 전체 마크다운 문서의 구조와 가독성을 AI가 자동으로 개선.
    *   **AI 텍스트 지원 (선택 영역 대상)**:
        *   `요약하기`: 선택한 텍스트를 간결하게 요약.
        *   `자세히 쓰기`: 선택한 텍스트에 살을 붙여 풍부하게 확장.
        *   `톤 변경`: 전문적으로, 친근하게, 간결하게 등 다양한 어조로 변환.

## 🛠️ 기술 스택

*   **Frontend**:
    *   React (v19)
    *   TypeScript
    *   Tailwind CSS
*   **Markdown Processing**:
    *   `marked.js`: 마크다운 파싱 라이브러리.
    *   `highlight.js`: 코드 블록 구문 강조.
*   **PDF Export**:
    *   `html2pdf.js`: HTML 콘텐츠를 PDF로 변환.
*   **AI Integration**:
    *   `@google/genai`: Google Gemini API JavaScript SDK.
*   **Bundling/Development**:
    *   ES Modules (via import maps in `index.html`) - 별도의 빌드 과정 없이 브라우저에서 직접 실행.

## 🚀 시작하기

### 사전 요구 사항

*   최신 웹 브라우저 (Chrome, Firefox, Safari, Edge 등 권장)
*   Gemini API 키 (AI 기능을 사용하기 위해 필요)

### 실행 방법

1.  이 애플리케이션은 별도의 빌드 과정 없이 웹 서버 환경 또는 로컬 파일 시스템에서 `index.html` 파일을 직접 열어 실행할 수 있도록 설계되었습니다.
    *   로컬에서 실행 시, 저장소의 파일들을 다운로드 받은 후 `index.html` 파일을 브라우저로 열면 됩니다.
2.  필요한 JavaScript 모듈 (`index.tsx` 및 기타 라이브러리)은 `index.html` 내의 `script type="importmap"` 설정을 통해 브라우저에서 직접 로드됩니다.

### Gemini API 키 설정

AI 기반의 다양한 편의 기능을 사용하려면 Google Gemini API 키가 필요합니다. 애플리케이션 내에서 API 키를 설정하고 관리할 수 있습니다.

1.  **애플리케이션 UI를 통한 설정 (권장)**:
    *   편집기 상단에 위치한 "Gemini API 키" 입력 필드에 자신의 API 키를 붙여넣습니다.
    *   "키 저장 및 활성화" 버튼을 클릭합니다.
    *   입력된 키는 브라우저의 로컬 스토리지에 안전하게 저장되며, 이후 방문 시 자동으로 로드됩니다.
    *   키의 유효성 검사 후 상태 메시지 (예: "Gemini API 활성 상태", "API 키가 유효하지 않습니다.")가 표시됩니다.

2.  **환경 변수 (초기 로드 시 대체)**:
    *   만약 로컬 스토리지에 저장된 API 키가 없고, 애플리케이션이 `process.env.API_KEY` 환경 변수를 읽을 수 있는 환경(예: 특정 호스팅 환경 또는 개발 프레임워크 내)에서 실행된다면, 이 환경 변수 값이 초기 API 키로 사용될 수 있습니다. 하지만, 사용자 UI를 통한 설정이 우선됩니다.

API 키가 성공적으로 활성화되면, "AI 포맷" 및 "AI 도우미" 버튼이 활성화되어 Gemini AI 기능을 사용할 수 있습니다.

## 📝 사용 방법

1.  **텍스트 편집**: 왼쪽(또는 상단)의 편집기 창에 마크다운 문법으로 내용을 입력합니다.
2.  **실시간 미리보기**: 오른쪽(또는 하단)의 미리보기 창에서 렌더링된 HTML 결과를 즉시 확인할 수 있습니다.
3.  **서식 도구 모음**: 상단 도구 모음의 아이콘을 클릭하여 텍스트 서식(굵게, 링크, 목록 등)을 쉽게 적용할 수 있습니다. 제목 수준(H1-H4)은 드롭다운 메뉴에서 선택합니다.
4.  **파일 작업**:
    *   `새 파일`: 현재 내용을 지우고 초기 상태로 돌아갑니다.
    *   `불러오기`: 로컬 시스템에서 `.md` 또는 `.txt` 파일을 불러와 편집합니다.
    *   `MD 저장`: 현재 내용을 마크다운 파일(.md)로 다운로드합니다.
    *   `HTML 저장`: 현재 내용을 스타일이 적용된 HTML 파일로 다운로드합니다.
    *   `PDF 저장`: 현재 내용을 PDF 파일로 다운로드합니다.
    *   `복사`: 현재 마크다운 내용을 클립보드에 복사합니다.
5.  **보기 모드 변경**: `분할 보기`, `편집기`, `미리보기` 버튼을 사용하여 화면 레이아웃을 전환합니다.
6.  **미리보기 테마 변경**: '미리보기 테마' 드롭다운에서 원하는 테마를 선택하여 미리보기 스타일을 변경합니다.
7.  **목차 삽입**: `목차` 버튼을 클릭하면 문서의 제목(H1-H4)을 기반으로 현재 커서 위치에 목차가 자동 생성되어 삽입됩니다.
8.  **AI 기능 활용**: (API 키 설정 필요)
    *   `AI 포맷`: 전체 문서의 마크다운 포맷을 AI가 개선합니다.
    *   `AI 도우미`: 텍스트를 선택한 후, 드롭다운 메뉴에서 `요약하기`, `자세히 쓰기`, `톤 변경` 등의 기능을 실행하여 선택된 내용을 AI가 수정하거나 확장합니다.

## 🎨 미리보기 테마

문서의 분위기와 목적에 맞게 미리보기 스타일을 변경할 수 있습니다.

*   **GitHub Light**: GitHub 스타일의 깔끔하고 익숙한 라이트 테마입니다.
*   **학술 논문 스타일**: 논문이나 보고서 작성에 적합한 클래식하고 가독성 높은 테마입니다.

선택한 테마는 로컬 스토리지에 저장되어 다음 방문 시에도 유지됩니다.

## 🤖 AI 기능 활용 (Gemini API)

Gemini API 키를 설정하면 다음과 같은 강력한 AI 기능을 사용할 수 있습니다:

*   **AI 마크다운 포맷팅**: 작성된 전체 마크다운 내용의 문법 오류 수정, 구조 개선, 가독성 향상 등을 자동으로 수행합니다.
*   **AI 텍스트 지원**:
    *   **요약하기**: 긴 텍스트 블록을 선택하고 실행하면 핵심 내용을 간추려줍니다.
    *   **자세히 쓰기**: 짧은 아이디어나 문장을 선택하고 실행하면 AI가 내용을 더 풍부하고 상세하게 확장해줍니다.
    *   **톤 변경 (전문적으로, 친근하게, 간결하게)**: 선택한 텍스트의 어조를 원하는 스타일에 맞게 변환해줍니다.

AI 기능은 작업 전 사용자 확인을 거치며, 작업 중에는 해당 버튼이 비활성화되고 상태가 표시됩니다.

## 💡 팁

*   **자동 저장**: 작성 중인 내용은 몇 초 간격으로 로컬 스토리지에 자동 저장됩니다. 브라우저를 닫았다가 다시 열어도 이전 작업 내용을 불러올 수 있습니다 (확인 후).
*   **스크롤 동기화**: `분할 보기` 모드에서는 편집기와 미리보기 창의 스크롤이 자동으로 동기화되어 긴 문서 작업 시 편리합니다.
*   **코드 복사**: 미리보기 창의 코드 블록 우측 상단에는 복사 버튼이 제공되어 코드를 쉽게 복사할 수 있습니다.
*   **외부 링크**: 미리보기 창의 모든 외부 링크는 새 탭에서 열리도록 처리되며, 아이콘으로 구분됩니다.

## 🚧 알려진 문제 및 향후 개선 사항

*   **PDF 내보내기**: `html2pdf.js` 라이브러리의 특성상 매우 복잡하거나 특정 CSS 스타일이 포함된 경우 PDF 출력 품질이 완벽하지 않을 수 있습니다.
*   **AI 응답**: AI 기능은 네트워크 연결 및 Gemini API 상태에 의존합니다. 응답 속도나 품질은 상황에 따라 달라질 수 있습니다.
*   **더 많은 미리보기 테마**: 사용자 정의 테마 추가 또는 다양한 기본 테마 옵션 제공을 고려할 수 있습니다.
*   **고급 편집 기능**: 표 편집 UI, 이미지 업로드/삽입 편의 기능 등 추가적인 고급 편집 기능 도입.

---

이 README 파일이 코어 마크다운 편집기를 이해하고 활용하는 데 도움이 되기를 바랍니다!
